{% if error %}
<span style="color:#dc2626; font-size:0.8125rem;">&#10007; {{ error }}</span>
{% elif sites | length == 1 %}
<script>document.getElementById('unifi_site_id').value='{{ sites[0].id }}';</script>
<span class="badge badge-ok" style="font-size:0.8rem;">
  &#10003; Auto-filled &mdash; {{ sites[0].name }}
  <span style="opacity:0.7;">({{ sites[0].id[:8] }}&hellip;)</span>
</span>
{% elif sites | length > 1 %}
<select onchange="document.getElementById('unifi_site_id').value=this.value"
        style="width:100%; padding:0.4rem 0.6rem; border:1px solid #cbd5e1; border-radius:0.375rem;
               font-size:0.875rem; color:#1e293b; background:#fff; margin-top:0.25rem;">
  <option value="">— select a site —</option>
  {% for s in sites %}
  <option value="{{ s.id }}">{{ s.name }} &nbsp; ({{ s.id[:8] }}&hellip;)</option>
  {% endfor %}
</select>
{% else %}
<span style="color:#92400e; font-size:0.8125rem;">&#9888; No sites returned by controller.</span>
{% endif %}
