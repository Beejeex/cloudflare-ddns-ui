{# partials/status_bar.html
   Responsibility: Renders a summary status bar with current IP and record counts.
   Returned as an HTMX fragment by GET /api/status.
   Target: #status-bar (innerHTML swap).
#}

<div class="flex items-center gap-3 text-sm">
  <span>Public IP: <strong class="font-mono">{{ current_ip }}</strong></span>
  {% if stats %}
  <span class="text-muted">|</span>
  <span>{{ stats | length }} record{{ 's' if stats | length != 1 }} tracked</span>
  {% set total_failures = stats | sum(attribute='failures') %}
  {% if total_failures > 0 %}
  <span class="text-muted">|</span>
  <span class="badge badge-error">{{ total_failures }} failure{{ 's' if total_failures != 1 }}</span>
  {% endif %}
  {% endif %}
</div>
